<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script type="text/javascript" src="/d3/d3.v3.js"></script>
    </head>
    <body>

    </body>

    <script>
        var dataset = [];                        //Initialize empty array
        for (var i = 0; i < 20; i++) {           //Loop 25 times
            var newNumber = Math.round(Math.random() * 100);  //New random number (0-30)
            dataset.push(newNumber);             //Add new number to array
        }

        var w = 500;
        var h = 200;
        var barPadding = 1;

        var svg = d3
                .select("body")
                .append("svg")
                .attr("width", w)
                .attr("height", h)
                ;

        svg.selectAll("rect")
                .data(dataset)
                .enter()
                .append("rect")
                .attr("x", function(d, i) {
            return i * (w / dataset.length);
        })
                .attr("y", function(d) {
            return h - d;  //Height minus data value
        })
                .attr("width", w / dataset.length - barPadding)
                .attr("height", function(d) {
            return d;
        })
                .attr("fill", function(d) {
            return "rgb(0, 0, " + (d * 10) + ")";
        })
                ;



        svg.selectAll("text")
                .data(dataset)
                .enter()
                .append("text")
                .text(function(d) {
            return d;
        })
                .attr("x", function(d, i) {
            return i * (w / dataset.length);
        })
                .attr("y", function(d) {
            return h/2;  //Height minus data value
        })
                .attr("font-family", "sans-serif")
                .attr("font-size", "14px")
                .attr("fill", "black")
        ;

    </script>
</html>
